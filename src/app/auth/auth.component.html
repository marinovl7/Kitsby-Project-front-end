<div class="container" [ngClass]="{ 'sign-up-mode': loginMode === false }">
  <div class="forms-container">
    <div class="signin-signup">
      <form
        #loginForm="ngForm"
        (ngSubmit)="onLogin(loginForm)"
        class="form sign-in-form"
      >
        <h2 class="title">Sign in</h2>
        <div
          #inputFieldUsername
          class="input-field"
          [ngClass]="{ invalid: !loginUsername.valid && loginUsername.touched }"
        >
          <mat-icon>person</mat-icon>
          <input
            ngModel
            required
            #loginUsername="ngModel"
            name="userId"
            type="text"
            placeholder="Username"
          />
        </div>
        <div
          class="input-field"
          [ngClass]="{ invalid: !loginPassword.valid && loginPassword.touched }"
          #inputFieldPassword
        >
          <mat-icon>lock</mat-icon>
          <input
            type="password"
            placeholder="Password"
            required
            minlength="8"
            ngModel
            #loginPassword="ngModel"
            name="password"
          />
        </div>
        <div class="alert">
          <p
            class="alert"
            *ngIf="!loginPassword.valid && loginPassword.touched"
          >
            The password should be at least 8 characters long
          </p>
        </div>
        <div class="alert" *ngIf="errorMessageLogin !== ''">
          <p class="alert">{{ errorMessageLogin }}</p>
        </div>
        <mat-spinner
          [diameter]="70"
          *ngIf="this.loading"
          class="spinner"
        ></mat-spinner>
        <input
          [disabled]="!loginForm.valid"
          type="submit"
          value="Login"
          class="btn submit-btn solid"
        />
      </form>
      <form
        #signupForm="ngForm"
        (ngSubmit)="onSignup(signupForm)"
        class="form sign-up-form"
      >
        <h2 class="title">Sign up</h2>
        <div
          class="input-field"
          [ngClass]="{ invalid: !email.valid && email.touched }"
        >
          <mat-icon>email</mat-icon>
          <input
            required
            email
            ngModel
            #email="ngModel"
            type="email"
            placeholder="Email"
            name="email"
          />
        </div>
        <div
          class="input-field"
          [ngClass]="{
            invalid: !signUpPassword.valid && signUpPassword.touched
          }"
        >
          <mat-icon>lock</mat-icon>
          <input
            required
            minlength="8"
            type="password"
            placeholder="Password"
            name="password"
            #signUpPassword="ngModel"
            ngModel
          />
        </div>
        <div class="input-field">
          <mat-icon class="icon">group_add</mat-icon>
          <input
            name="referralLink"
            #refferalLink="ngModel"
            ngModel
            type="text"
            placeholder="Refferal link(optional)"
          />
        </div>
        <div class="checkbox-field">
          <input
            class="checkbox"
            type="checkbox"
            name="checkbox"
            required
            #checkbox="ngModel"
            ngModel
          />
          I agree to the
          <a
            class="terms-and-conditions-link"
            routerLink="../terms-and-conditions"
            >Terms and Condtions</a
          >
        </div>

        <div class="alert" *ngIf="!signupForm.valid && signupForm.touched">
          <p class="alert" *ngIf="!email.valid && email.touched">
            Please provide valid email adress
          </p>
          <div *ngIf="email.valid && email.touched">
            <p
              class="alert"
              *ngIf="!signUpPassword.valid && signUpPassword.touched"
            >
              The password should be at least 8 characters long
            </p>
          </div>
          <div
            *ngIf="
              email.valid &&
              email.touched &&
              signUpPassword.valid &&
              signUpPassword.touched
            "
          >
            <p class="alert" *ngIf="checkbox.touched && !checkbox.valid">
              You need to accept our Terms and Conditions
            </p>
          </div>
        </div>
        <div class="alert" *ngIf="errorMessageSignUp !== ''">
          <p class="alert">{{ errorMessageSignUp }}</p>
        </div>
        <mat-spinner
          [diameter]="70"
          *ngIf="this.loading"
          class="spinner"
        ></mat-spinner>
        <input
          [disabled]="!signupForm.valid"
          type="submit"
          class="btn submit-btn"
          value="Sign up"
        />
      </form>
    </div>
  </div>

  <div class="panels-container">
    <div class="panel left-panel">
      <div class="content">
        <h3 class="heading-tertiary">New here ?</h3>
        <p class="subtext">
          Start earning commision for your invested money every day
        </p>
        <button
          class="btn transparent"
          id="sign-up-btn"
          (click)="switchToSignUp()"
        >
          Sign up
        </button>
      </div>
      <img src="../../assets/img/login.svg" class="image" alt="" />
    </div>
    <div class="panel right-panel">
      <div class="content">
        <h3 class="heading-tertiary">One of us ?</h3>
        <p class="subtext">Log in to see your data</p>
        <button
          class="btn transparent"
          id="sign-in-btn"
          (click)="switchToLogin()"
        >
          Sign in
        </button>
      </div>
      <img src="../../assets/img/signup.svg" class="image" alt="" />
    </div>
  </div>
</div>
